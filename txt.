[1mdiff --git a/src/main/java/com/sham/fatec/galeria/App.java b/src/main/java/com/sham/fatec/galeria/App.java[m
[1mindex 94fd2c9..c7cd7e7 100644[m
[1m--- a/src/main/java/com/sham/fatec/galeria/App.java[m
[1m+++ b/src/main/java/com/sham/fatec/galeria/App.java[m
[36m@@ -6,6 +6,7 @@[m [mimport org.springframework.context.support.ClassPathXmlApplicationContext;[m
 [m
 import com.sham.fatec.galeria.model.Papel;[m
 import com.sham.fatec.galeria.model.Usuario;[m
[32m+[m[32mimport com.sham.fatec.galeria.repository.ImagemRepository;[m
 import com.sham.fatec.galeria.repository.PapelRepository;[m
 import com.sham.fatec.galeria.repository.UsuarioRepository;[m
 [m
[36m@@ -21,6 +22,7 @@[m [mpublic class App[m
         [m
         UsuarioRepository usuarioRepository = (UsuarioRepository) context.getBean("usuarioRepository");[m
         PapelRepository papelRepository = (PapelRepository) context.getBean("papelRepository");[m
[32m+[m[32m        ImagemRepository imagemRepository = (ImagemRepository) context.getBean("imagemRepository");[m
         [m
         Optional<Papel> papel = papelRepository.findById(1L);[m
         Usuario usuario = (Usuario) context.getBean("usuario");[m
[36m@@ -30,13 +32,18 @@[m [mpublic class App[m
         usuario.setUsuario("sham");[m
         usuario.setPapel(papel.get());[m
         [m
[32m+[m[41m        [m
[32m+[m[41m        [m
[32m+[m[41m        [m
         //usuarioRepository.save(usuario);[m
         //papelRepository.save();[m
         //papelRepository.save(new Papel("Visitante"));[m
         [m
[31m-        Optional<Usuario> u = usuarioRepository.findByUsuario("sham");[m
[32m+[m[32m        //Optional<Usuario> u = usuarioRepository.findByUsuario("sham");[m
[32m+[m[41m        [m
[32m+[m[32m        //System.out.println(u.get());[m
[32m+[m[41m        [m
         [m
[31m-        System.out.println(u.get());[m
         context.close();[m
     }[m
 }[m
[1mdiff --git a/src/main/java/com/sham/fatec/galeria/model/EnumPapel.java b/src/main/java/com/sham/fatec/galeria/model/EnumPapel.java[m
[1mindex 5cce59f..1705b5b 100644[m
[1m--- a/src/main/java/com/sham/fatec/galeria/model/EnumPapel.java[m
[1m+++ b/src/main/java/com/sham/fatec/galeria/model/EnumPapel.java[m
[36m@@ -22,6 +22,4 @@[m [mpublic enum EnumPapel {[m
 	}[m
 	[m
 	[m
[31m-	[m
[31m-	[m
 }[m
[1mdiff --git a/src/main/java/com/sham/fatec/galeria/model/Imagem.java b/src/main/java/com/sham/fatec/galeria/model/Imagem.java[m
[1mindex 917a97b..d3b7ca7 100644[m
[1m--- a/src/main/java/com/sham/fatec/galeria/model/Imagem.java[m
[1m+++ b/src/main/java/com/sham/fatec/galeria/model/Imagem.java[m
[36m@@ -7,7 +7,7 @@[m [mimport javax.persistence.GeneratedValue;[m
 import javax.persistence.GenerationType;[m
 import javax.persistence.Id;[m
 import javax.persistence.JoinColumn;[m
[31m-import javax.persistence.OneToMany;[m
[32m+[m[32mimport javax.persistence.ManyToOne;[m
 import javax.persistence.Table;[m
 [m
 @Entity[m
[36m@@ -32,9 +32,9 @@[m [mpublic class Imagem {[m
 	private byte[] imagemBlob;[m
 	[m
 	@Column(name = "ima_id_usuario")[m
[31m-	@OneToMany(fetch = FetchType.LAZY)[m
[32m+[m	[32m@ManyToOne(fetch = FetchType.LAZY)[m
 	@JoinColumn(name = "usr_id")[m
[31m-	private long idUsuario;[m
[32m+[m	[32mprivate long idUsuario;[m[41m [m
 	[m
 	public Imagem() {[m
 		super();[m
[1mdiff --git a/src/main/java/com/sham/fatec/galeria/model/Usuario.java b/src/main/java/com/sham/fatec/galeria/model/Usuario.java[m
[1mindex 7905880..e263eb3 100644[m
[1m--- a/src/main/java/com/sham/fatec/galeria/model/Usuario.java[m
[1m+++ b/src/main/java/com/sham/fatec/galeria/model/Usuario.java[m
[36m@@ -1,5 +1,7 @@[m
 package com.sham.fatec.galeria.model;[m
 [m
[32m+[m[32mimport java.util.Set;[m
[32m+[m
 import javax.persistence.Column;[m
 import javax.persistence.Entity;[m
 import javax.persistence.FetchType;[m
[36m@@ -7,6 +9,7 @@[m [mimport javax.persistence.GeneratedValue;[m
 import javax.persistence.GenerationType;[m
 import javax.persistence.Id;[m
 import javax.persistence.JoinColumn;[m
[32m+[m[32mimport javax.persistence.OneToMany;[m
 import javax.persistence.OneToOne;[m
 import javax.persistence.Table;[m
 [m
[36m@@ -31,10 +34,12 @@[m [mpublic class Usuario {[m
 	@Column(name = "usr_email", unique = true, nullable = false, length = 50)[m
 	private String email;[m
 	[m
[31m-	@OneToOne(fetch = FetchType.EAGER )[m
[32m+[m	[32m@OneToOne(fetch = FetchType.EAGER)[m
 	@JoinColumn(name = "usr_id_papel")[m
 	private Papel papel;[m
 [m
[32m+[m	[32m@OneToMany(fetch = FetchType.EAGER, mappedBy = "usuario")[m
[32m+[m	[32mprivate Set<Imagem> imagens;[m
 	[m
 	public Usuario() {[m
 		super();[m
[1mdiff --git a/src/main/resources/applicationContext.xml b/src/main/resources/applicationContext.xml[m
[1mindex aba65b1..8ef1002 100644[m
[1m--- a/src/main/resources/applicationContext.xml[m
[1m+++ b/src/main/resources/applicationContext.xml[m
[36m@@ -1,50 +1,59 @@[m
 <?xml version="1.0" encoding="UTF-8"?>[m
 <beans xmlns="http://www.springframework.org/schema/beans"[m
[31m-    xmlns:p="http://www.springframework.org/schema/p"[m
[31m-    xmlns:tx="http://www.springframework.org/schema/tx"[m
[31m-    xmlns:jpa="http://www.springframework.org/schema/data/jpa"[m
[31m-    xmlns:context="http://www.springframework.org/schema/context"[m
[31m-    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"[m
[31m-    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd[m
[32m+[m	[32mxmlns:p="http://www.springframework.org/schema/p"[m
[32m+[m	[32mxmlns:tx="http://www.springframework.org/schema/tx"[m
[32m+[m	[32mxmlns:jpa="http://www.springframework.org/schema/data/jpa"[m
[32m+[m	[32mxmlns:context="http://www.springframework.org/schema/context"[m
[32m+[m	[32mxmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"[m
[32m+[m	[32mxsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd[m
         http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd[m
         http://www.springframework.org/schema/data/jpa http://www.springframework.org/schema/data/jpa/spring-jpa.xsd[m
         http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd">[m
[31m-        [m
[31m-    <bean id="usuario"[m
[31m-    class="com.sham.fatec.galeria.model.Usuario" scope="prototype"/>[m
[31m-        [m
[31m-        [m
[31m-    <context:component-scan base-package="com.sham.fatec.galeria"/>[m
[31m-    [m
[31m-    <jpa:repositories base-package="com.sham.fatec.galeria.repository"/>[m
[31m-[m
[31m-    <!-- Datasource -->[m
[31m-    <bean id="dataSource" [m
[31m-         class="org.springframework.jdbc.datasource.DriverManagerDataSource">[m
[31m-        <property name="driverClassName" value="com.mysql.cj.jdbc.Driver" />[m
[31m-        <property name="url" value="jdbc:mysql://localhost:3306/galeria?useTimezone=true&amp;serverTimezone=UTC" />[m
[31m-        <property name="username" value="root" />[m
[31m-        <property name="password" value="fatec" />[m
[31m-    </bean>[m
[31m-    [m
[31m-    <bean id="entityManagerFactory"[m
[31m-        class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean"[m
[31m-        p:packagesToScan="com.sham.fatec.galeria.model"[m
[31m-        p:dataSource-ref="dataSource"[m
[31m-        >[m
[31m-        <property name="jpaVendorAdapter">[m
[31m-            <bean class="org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter">[m
[31m-                <property name="generateDdl" value="false" />[m
[31m-                <property name="showSql" value="true" />[m
[31m-                <property name="databasePlatform" value="org.hibernate.dialect.MySQLDialect"/>[m
[31m-            </bean>[m
[31m-        </property>[m
[31m-    </bean>[m
[31m-    [m
[31m-    <bean id="transactionManager"[m
[31m-        class="org.springframework.orm.jpa.JpaTransactionManager">[m
[31m-        <property name="entityManagerFactory" ref="entityManagerFactory" />[m
[31m-    </bean>[m
[31m-    <tx:annotation-driven />[m
[31m-    [m
[32m+[m
[32m+[m	[32m<bean id="usuario" class="com.sham.fatec.galeria.model.Usuario"[m
[32m+[m		[32mscope="prototype" />[m
[32m+[m
[32m+[m	[32m<bean id="imagem" class="com.sham.fatec.galeria.model.Imagem"[m
[32m+[m		[32mscope="prototype" />[m
[32m+[m
[32m+[m
[32m+[m	[32m<context:component-scan[m
[32m+[m		[32mbase-package="com.sham.fatec.galeria" />[m
[32m+[m
[32m+[m	[32m<jpa:repositories[m
[32m+[m		[32mbase-package="com.sham.fatec.galeria.repository" />[m
[32m+[m
[32m+[m	[32m<!-- Datasource -->[m
[32m+[m	[32m<bean id="dataSource"[m
[32m+[m		[32mclass="org.springframework.jdbc.datasource.DriverManagerDataSource">[m
[32m+[m		[32m<property name="driverClassName"[m
[32m+[m			[32mvalue="com.mysql.cj.jdbc.Driver" />[m
[32m+[m		[32m<property name="url"[m
[32m+[m			[32mvalue="jdbc:mysql://localhost:3306/galeria?useTimezone=true&amp;serverTimezone=UTC" />[m
[32m+[m		[32m<property name="username" value="root" />[m
[32m+[m		[32m<property name="password" value="fatec" />[m
[32m+[m	[32m</bean>[m
[32m+[m
[32m+[m	[32m<bean id="entityManagerFactory"[m
[32m+[m		[32mclass="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean"[m
[32m+[m		[32mp:packagesToScan="com.sham.fatec.galeria.model"[m
[32m+[m		[32mp:dataSource-ref="dataSource">[m
[32m+[m		[32m<property name="jpaVendorAdapter">[m
[32m+[m			[32m<bean[m
[32m+[m				[32mclass="org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter">[m
[32m+[m				[32m<property name="generateDdl" value="false" />[m
[32m+[m				[32m<property name="showSql" value="true" />[m
[32m+[m				[32m<property name="databasePlatform"[m
[32m+[m					[32mvalue="org.hibernate.dialect.MySQLDialect" />[m
[32m+[m			[32m</bean>[m
[32m+[m		[32m</property>[m
[32m+[m	[32m</bean>[m
[32m+[m
[32m+[m	[32m<bean id="transactionManager"[m
[32m+[m		[32mclass="org.springframework.orm.jpa.JpaTransactionManager">[m
[32m+[m		[32m<property name="entityManagerFactory"[m
[32m+[m			[32mref="entityManagerFactory" />[m
[32m+[m	[32m</bean>[m
[32m+[m	[32m<tx:annotation-driven />[m
[32m+[m
 </beans>[m
\ No newline at end of file[m
[1mdiff --git a/target/classes/applicationContext.xml b/target/classes/applicationContext.xml[m
[1mindex aba65b1..8ef1002 100644[m
[1m--- a/target/classes/applicationContext.xml[m
[1m+++ b/target/classes/applicationContext.xml[m
[36m@@ -1,50 +1,59 @@[m
 <?xml version="1.0" encoding="UTF-8"?>[m
 <beans xmlns="http://www.springframework.org/schema/beans"[m
[31m-    xmlns:p="http://www.springframework.org/schema/p"[m
[31m-    xmlns:tx="http://www.springframework.org/schema/tx"[m
[31m-    xmlns:jpa="http://www.springframework.org/schema/data/jpa"[m
[31m-    xmlns:context="http://www.springframework.org/schema/context"[m
[31m-    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"[m
[31m-    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd[m
[32m+[m	[32mxmlns:p="http://www.springframework.org/schema/p"[m
[32m+[m	[32mxmlns:tx="http://www.springframework.org/schema/tx"[m
[32m+[m	[32mxmlns:jpa="http://www.springframework.org/schema/data/jpa"[m
[32m+[m	[32mxmlns:context="http://www.springframework.org/schema/context"[m
[32m+[m	[32mxmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"[m
[32m+[m	[32mxsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd[m
         http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd[m
         http://www.springframework.org/schema/data/jpa http://www.springframework.org/schema/data/jpa/spring-jpa.xsd[m
         http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd">[m
[31m-        [m
[31m-    <bean id="usuario"[m
[31m-    class="com.sham.fatec.galeria.model.Usuario" scope="prototype"/>[m
[31m-        [m
[31m-        [m
[31m-    <context:component-scan base-package="com.sham.fatec.galeria"/>[m
[31m-    [m
[31m-    <jpa:repositories base-package="com.sham.fatec.galeria.repository"/>[m
[31m-[m
[31m-    <!-- Datasource -->[m
[31m-    <bean id="dataSource" [m
[31m-         class="org.springframework.jdbc.datasource.DriverManagerDataSource">[m
[31m-        <property name="driverClassName" value="com.mysql.cj.jdbc.Driver" />[m
[31m-        <property name="url" value="jdbc:mysql://localhost:3306/galeria?useTimezone=true&amp;serverTimezone=UTC" />[m
[31m-        <property name="username" value="root" />[m
[31m-        <property name="password" value="fatec" />[m
[31m-    </bean>[m
[31m-    [m
[31m-    <bean id="entityManagerFactory"[m
[31m-        class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean"[m
[31m-        p:packagesToScan="com.sham.fatec.galeria.model"[m
[31m-        p:dataSource-ref="dataSource"[m
[31m-        >[m
[31m-        <property name="jpaVendorAdapter">[m
[31m-            <bean class="org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter">[m
[31m-                <property name="generateDdl" value="false" />[m
[31m-                <property name="showSql" value="true" />[m
[31m-                <property name="databasePlatform" value="org.hibernate.dialect.MySQLDialect"/>[m
[31m-            </bean>[m
[31m-        </property>[m
[31m-    </bean>[m
[31m-    [m
[31m-    <bean id="transactionManager"[m
[31m-        class="org.springframework.orm.jpa.JpaTransactionManager">[m
[31m-        <property name="entityManagerFactory" ref="entityManagerFactory" />[m
[31m-    </bean>[m
[31m-    <tx:annotation-driven />[m
[31m-    [m
[32m+[m
[32m+[m	[32m<bean id="usuario" class="com.sham.fatec.galeria.model.Usuario"[m
[32m+[m		[32mscope="prototype" />[m
[32m+[m
[32m+[m	[32m<bean id="imagem" class="com.sham.fatec.galeria.model.Imagem"[m
[32m+[m		[32mscope="prototype" />[m
[32m+[m
[32m+[m
[32m+[m	[32m<context:component-scan[m
[32m+[m		[32mbase-package="com.sham.fatec.galeria" />[m
[32m+[m
[32m+[m	[32m<jpa:repositories[m
[32m+[m		[32mbase-package="com.sham.fatec.galeria.repository" />[m
[32m+[m
[32m+[m	[32m<!-- Datasource -->[m
[32m+[m	[32m<bean id="dataSource"[m
[32m+[m		[32mclass="org.springframework.jdbc.datasource.DriverManagerDataSource">[m
[32m+[m		[32m<property name="driverClassName"[m
[32m+[m			[32mvalue="com.mysql.cj.jdbc.Driver" />[m
[32m+[m		[32m<property name="url"[m
[32m+[m			[32mvalue="jdbc:mysql://localhost:3306/galeria?useTimezone=true&amp;serverTimezone=UTC" />[m
[32m+[m		[32m<property name="username" value="root" />[m
[32m+[m		[32m<property name="password" value="fatec" />[m
[32m+[m	[32m</bean>[m
[32m+[m
[32m+[m	[32m<bean id="entityManagerFactory"[m
[32m+[m		[32mclass="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean"[m
[32m+[m		[32mp:packagesToScan="com.sham.fatec.galeria.model"[m
[32m+[m		[32mp:dataSource-ref="dataSource">[m
[32m+[m		[32m<property name="jpaVendorAdapter">[m
[32m+[m			[32m<bean[m
[32m+[m				[32mclass="org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter">[m
[32m+[m				[32m<property name="generateDdl" value="false" />[m
[32m+[m				[32m<property name="showSql" value="true" />[m
[32m+[m				[32m<property name="databasePlatform"[m
[32m+[m					[32mvalue="org.hibernate.dialect.MySQLDialect" />[m
[32m+[m			[32m</bean>[m
[32m+[m		[32m</property>[m
[32m+[m	[32m</bean>[m
[32m+[m
[32m+[m	[32m<bean id="transactionManager"[m
[32m+[m		[32mclass="org.springframework.orm.jpa.JpaTransactionManager">[m
[32m+[m		[32m<property name="entityManagerFactory"[m
[32m+[m			[32mref="entityManagerFactory" />[m
[32m+[m	[32m</bean>[m
[32m+[m	[32m<tx:annotation-driven />[m
[32m+[m
 </beans>[m
\ No newline at end of file[m
[1mdiff --git a/target/classes/com/sham/fatec/galeria/App.class b/target/classes/com/sham/fatec/galeria/App.class[m
[1mindex c710a8f..cce38d9 100644[m
Binary files a/target/classes/com/sham/fatec/galeria/App.class and b/target/classes/com/sham/fatec/galeria/App.class differ
[1mdiff --git a/target/classes/com/sham/fatec/galeria/model/Imagem.class b/target/classes/com/sham/fatec/galeria/model/Imagem.class[m
[1mindex fb1e7aa..6fdef45 100644[m
Binary files a/target/classes/com/sham/fatec/galeria/model/Imagem.class and b/target/classes/com/sham/fatec/galeria/model/Imagem.class differ
[1mdiff --git a/target/classes/com/sham/fatec/galeria/model/Usuario.class b/target/classes/com/sham/fatec/galeria/model/Usuario.class[m
[1mindex a55ec58..230e6d8 100644[m
Binary files a/target/classes/com/sham/fatec/galeria/model/Usuario.class and b/target/classes/com/sham/fatec/galeria/model/Usuario.class differ
